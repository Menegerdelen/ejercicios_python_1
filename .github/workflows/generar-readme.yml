name: Generar README automáticamente

on:
  push:
    branches:
      - main  # O la rama principal que uses

jobs:
  generar-readme:
    runs-on: ubuntu-latest

    steps:
      - name: 📥 Clonar repositorio
        uses: actions/checkout@v3

      - name: 🐍 Instalar Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.13.6'

      - name: 📦 Instalar dependencias (si las hubiera)
        run: |
          pip install --upgrade pip

      - name: ⚙️ Ejecutar script para generar README
        run: python generador_readme.py

      - name: 📤 Subir cambios al repositorio
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "📝 README.md actualizado automáticamente"
